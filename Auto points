gifdir = "./"
import tkinter
from tkinter import ttk
from tkinter import *
import time
windows = tkinter.Tk()
count = 0
automatic = 0
ClickUp = 0 #Times upgraded (Ppc)
ClickP = 1 #
CostA = 15 #Cost of Auto Collecter
AUp = 1 #Multipler (Auto Collecter)
A2Up = 5 #Multiplier (Advanced Collecter)
CostAUp = 100 #Cost of Auto Colecter Multiplier
CostA2 = 100 #Cost of Advanced Collecter Multiplier
CostA2Up = 1000 #Cost of 
CostC = 10 #Cost of Upgrade Clicks
CUp = 1 #Times Upgraded
CostCUp = 100 #Cost of Click Multiplier
Ppc = 1 #Base amount
Ppc2 = 1 #Multiplier
Pps = 0 #Base Amount
current_tick = 0
obj = time.gmtime(0)
epoch = time.asctime(obj)
curr_time = round(time.time()*1000)
tick = 0
sec = 0
if True:
  obj = time.gmtime(0)
  epoch = time.asctime(obj)
  curr_time = round(time.time()*1000)
  goal_time = curr_time + 35
  goal_time_sec = curr_time + 1000

def clicked(event):
  global count
  global ClickUp
  global Ppc2
  global Ppc
  count = count + Ppc * Ppc2
  label.configure(text=f'Points: {round(count)}')

def upgradeA(event):
  global automatic
  global count
  global CostA
  global Pps
  if count >= CostA:
    automatic = automatic + 1
    Pps = Pps + 1
    count = count - CostA
    CostA = CostA + (2*CostA/3)
    label.configure(text=f'Points: {round(count)}')
    AutoUP.config(text=f"Auto Collector: + {AUp} per second     Price: {round(CostA)}")
  else:
    label.configure(text=f'Upgrade too expensive')
    label.configure(text=f'Points: {round(count)}')

def upgradeA2(event):
  global automatic
  global count
  global CostA2
  global Pps
  if count >= CostA2:
    automatic = automatic + 5
    Pps = Pps + 5
    count = count - CostA2
    CostA2 = CostA2 + (2*CostA2/3)
    label.configure(text=f'Points: {round(count)}')
    AutoUPUP.config(text=f"Advanced Collector: + {A2Up} per second     Price: {round(CostA2)}")
    label5.configure(text=f'{Pps} per second')
  else:
    label.configure(text=f'Upgrade too expensive')
    label.configure(text=f'Points: {round(count)}')

def upgradeC(event):
  global count
  global ClickUp
  global ClickP
  global CostC
  global Ppc
  global Ppc2
  global CUp
  if count >= CostC:
    ClickP = ClickP + ClickUp
    ClickUp = ClickP * CUp
    Ppc = Ppc + 1
    count = count - round(CostC)
    CostC = CostC + (2*CostC/3)
    label.configure(text=f'Points: {round(count)}')
    ClickUP.config(text=f"Upgrade Clicks: + {CUp} per click     Price: {round(CostC)}")
  else:
    label.configure(text=f'Upgrade too expensive')
    label.configure(text=f'Points: {round(count)}') 

def auto():
  global automatic
  global count
  count = count + automatic

def timemanager(time_type):
  global tick
  global sec
  global goal_time
  global goal_time_sec
  curr_time = round(time.time()*1000)
  if goal_time_sec <= curr_time and time_type == "second":
    sec = sec + 1
    goal_time_sec = curr_time + 1000
    return True
  elif time_type == "second":
    return False
 
  if goal_time <= curr_time:
    tick = tick + 1
    goal_time = curr_time + (100/6)
    return True
  else:
    return False
 
def system():
  if timemanager("tick") == True:
    updatelabel()

  if timemanager("second") == True:
    auto()
                 
def clickpower(event):
  global count
  global CUp
  global CostCUp
  global Ppc
  global Ppc2
  if count >= CostCUp:
    CUp = CUp + CUp
    count = count - CostCUp
    CostCUp = 5*CostCUp
    Ppc2 = Ppc2 + Ppc2 
    ClickUP.config(text=f"Upgrade Clicks: + {CUp} per click     Price: {round(CostC)}")
    ClickUpgrade.config(text=f"Double Click Power:     Price: {(CostCUp)}")
    label4.configure(text=f"{Ppc * Ppc2} per click")
    updatelabel()
    
def updatelabel():
  global Ppc
  global Ppc2
  global Pps
  global count
  label.configure(text=f'Points: {round(count)}')
  label2.configure(text=f'Click Upgrades')
  label3.configure(text=f'Auto Upgrades')
  label4.configure(text=f'{Ppc * Ppc2} per click')
  label5.configure(text=f'{Pps} per second')
  label6.configure(text=f'Click Multipliers')

windows.title("Idle Game")
label = tkinter.Label(windows)
label.grid(column=0, row=0)
label1 = tkinter.Label(windows)
label1.grid(column=2, row=0)
label2 = tkinter.Label(windows)
label2.grid(column=0, row=2)
label3 = tkinter.Label(windows)
label3.grid(column=0, row=3)
label4 = tkinter.Label(windows)
label4.grid(column=1, row=0)
label5 = tkinter.Label(windows)
label5.grid(column=2, row=0)
label6 = tkinter.Label(windows)
label6.grid(column=0, row=5)
button = tkinter.ttk.Button(windows, text="Click on me")
button.bind("<Button-1>", clicked)
button.grid(column=0, row=1)
AutoUP = tkinter.ttk.Button(windows, text=f'Auto Collector: + {AUp} per second     Price: {round(CostA)}')
AutoUP.bind("<Button-1>", upgradeA)
AutoUP.grid(column=1, row=3)
AutoUPUP = tkinter.ttk.Button(windows, text=f'Adavnced Collector: + {A2Up} per second     Price: {round(CostA2)}')
AutoUPUP.bind("<Button-1>", upgradeA2)
AutoUPUP.grid(column=1, row=4)
ClickUP = tkinter.ttk.Button(windows, text=f'Upgrade Clicks: + {CUp} per click     Price: {round(CostC)}')
ClickUP.bind("<Button-1>", upgradeC)
ClickUP.grid(column=1, row=2)
ClickUpgrade = tkinter.ttk.Button(windows, text=f'Double Click Power:     Price: {(CostCUp)}')
ClickUpgrade.bind("<Button-1>", clickpower)
ClickUpgrade.grid(column=1, row=5)

while True:
  system()
  windows.update_idletasks()
  windows.update()